<!DOCTYPE html>
<html>
<head>
    <title>Here Map Demo</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {
            height: 100%;
        }
    </style>
    <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js"
            type="text/javascript" charset="utf-8">
    </script>
    <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js"
            type="text/javascript" charset="utf-8">
    </script>
</head>
<body>
<div id="map"></div>
<script>
    var marker1;
    var icon1 = new H.map.Icon('Images/stick-man.jpg');
    var icon2 = new H.map.Icon('Images/finish-flag.jpg');
    var marker2;
    var path;
    var platform = new H.service.Platform({
        'app_id': 'kXKabsS3C8XY9PPGEZ89',
        'app_code': 'zlGowN2eF-7IHC2l2nos2Q'
    });

    // Obtain the default map types from the platform object:
    var defaultLayers = platform.createDefaultLayers();

    // Instantiate (and display) a map object:
    var map = new H.Map(
        document.getElementById('map'),
        defaultLayers.normal.map,
        {
            center: {lat: 52.5276947, lng: 13.4029663}, zoom: 14.5
        });

    var linestring = new H.geo.LineString();
    points.forEach(function (point) {
        linestring.pushPoint(point);
    });

    var polyLine = new H.map.Polyline(linestring, { style: { lineWidth: 10 }});

    map.addObject(polyLine);

    map.setViewBounds(polyLine.getBounds());

    function displayRoute(route) {
        // CLEAR EXISTING MARKERS
        if (marker1 !== undefined && marker2 !== undefined && path !== undefined) {
            marker1.setMap(null);
            marker2.setMap(null);
            path.setMap(null);
        }

        if (route.length < 2) {
            return;
        }

    // CREATE MARKERS AT START AND FINISH
        marker1 = new H.map.Marker(route[0], {icon: icon1});
        marker2 = new H.map.Marker(route[route.length-1], {icon : icon2});

        map.addObject(marker1);
        map.addObject(marker2);

        var linestring = new H.geo.LineString();
        route.forEach(function (point) {
            linestring.pushPoint(point);
        });

        var polyLine = new H.map.Polyline(linestring, { style: { lineWidth: 10 }});

        map.addObject(polyLine);

        map.setViewBounds(polyLine.getBounds());
    //
    //     // DRAW POLYLINE FOR ROUTE
    //     path = new google.maps.Polyline({
    //         path: flightPath,
    //         geodesic: true,
    //         strokeColor: '#FF0000',
    //         strokeOpacity: 1.0,
    //         strokeWeight: 2
    //     });
    //
    //     path.setMap(map);
    //
    //     repositionMap(flightPath);
    // }
    //
    // function repositionMap(route) {
    //     var bounds = new google.maps.LatLngBounds();
    //
    //     for (var i = 0; i < flightPath.length; i++) {
    //         bounds.extend(flightPath[i]);
    //     }
    //
    //     map.fitBounds(bounds);
    }
</script>
</body>
</html>